<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Bookings</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-4">
  <h2>Your Booking History</h2>
  <div class="input-group mb-3">
    <input type="number" id="userId" class="form-control" placeholder="Enter User ID">
    <button class="btn btn-primary" id="fetchBookings">Get Bookings</button>
  </div>
  <div id="bookingsList"></div>
</div>
<script>
document.getElementById("fetchBookings").onclick = async () => {
  const id = document.getElementById("userId").value;
  const res = await fetch(`http://localhost:8080/bookings/user/${id}`);
  const bookings = await res.json();
  const div = document.getElementById("bookingsList");
  div.innerHTML = bookings.length ? bookings.map(b => `
    <div class="card mb-2 p-3">
      <strong>${b.flight.name}</strong> (${b.flight.source} â†’ ${b.flight.destination})<br>
      Seats Booked: ${b.seatsBooked}
    </div>`).join('') : "<p>No bookings found</p>";
};
</script>
</body>
</html>
